<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./output.css" rel="stylesheet">
    <title>Newsletter Sign Up</title>
</head>
<body class="sm:bg-[#3b3e59] flex justify-center sm:items-center h-screen">

    <div class="flex flex-col-reverse sm:flex-row w-full sm:p-6 bg-white rounded-3xl sm:shadow sm:max-w-[800px] sm:w-fit items-center h-full sm:h-fit">
        <div class="flex flex-col w-full p-8 h-full">
            <div class="text-4xl font-bold">Stay updated!</div>
            <div class="text-sm mt-6">Join 60,000+ product managers receiving monthly updates on:</div>
            <div class="flex flex-row mt-6 items-start text-sm">
                <img class="mr-4 text-sm" src="./images-newsletter/icon-list.svg" alt="logo">
                <div>Product discovery and building what matters</div>
            </div>
            <div class="flex flex-row mt-4 items-start text-sm">
                <img class="mr-4" src="./images-newsletter/icon-list.svg" alt="logo">
                <div>Measuring to ensure updates are a success</div>
            </div>
            <div class="flex flex-row mt-4 items-start text-sm">
                <img class="mr-4" src="./images-newsletter/icon-list.svg" alt="logo">
                <div>And much more!</div>
            </div>

            <div class="flex flex-row mt-6">
                <div class="font-bold text-sm">Email Address</div>
            </div>

            <div class="relative">
                <input
                    type="email"
                    name="email"
                    id="email"
                    class="border w-full rounded-[4px] text-sm pl-4 p-2 mt-2 mb-6"
                    placeholder="email@company.com"
                    required
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                />
                <div class="text-sm text-[#FF7F7F] invisible absolute top-[-1.2rem] right-0" id="error-message">Valid email required</div>
            </div>
            <button class="w-full bg-[#36384e] text-white p-3 rounded-lg text-sm font-bold hover:bg-gradient-to-r from-pink-500 to-orange-400"
            id="btnSubscribe">Subscribe to monthly newsletter</button>
        </div>
        <div class="flex flex-col w-full">
            <img class="sm:hidden" src="./images-newsletter/illustration-sign-up-mobile.svg" alt="signup">
            <img class="hidden sm:block" src="./images-newsletter/illustration-sign-up-desktop.svg" alt="signup">
        </div>
    </div>
    <script>
        const emailInput = document.getElementById('email');
        const errorMessage = document.getElementById('error-message');
        const subscribeButton = document.getElementById('btnSubscribe');

        emailInput.addEventListener('focus', function() {
            if (!emailInput.checkValidity()) {
                errorMessage.style.visibility = 'visible';
                emailInput.style.backgroundColor = '#ffe6e6';
                emailInput.style.color = '#FF7F7F';
                emailInput.style.borderColor = '#FF7F7F';
            } else {
                errorMessage.style.visibility = 'hidden';
                emailInput.style.backgroundColor = '#ffffff';
                emailInput.style.color = '#000000';
                emailInput.style.borderColor = '#8a8a8a';
            }
        });

        emailInput.addEventListener('input', function() {
            if (!emailInput.checkValidity()) {
                errorMessage.style.visibility = 'visible';
                emailInput.style.backgroundColor = '#ffe6e6';
                emailInput.style.color = '#FF7F7F';
                emailInput.style.borderColor =  '#afafaf';
            } else {
                errorMessage.style.visibility = 'hidden';
                emailInput.style.backgroundColor = '#ffffff';
                emailInput.style.color = '#000000';
                emailInput.style.borderColor = '#afafaf';
            }
        });

        subscribeButton.addEventListener('click', function(event) {
            event.preventDefault();
            if (emailInput.checkValidity()) {
                window.location.href = 'success-page.html';
            } else {
                errorMessage.style.visibility = 'visible';
                emailInput.focus();
            }
        });
    </script>
</body>
</html>
